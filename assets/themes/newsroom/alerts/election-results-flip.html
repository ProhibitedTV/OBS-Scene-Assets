<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Election Results Flip</title>
  <style>
    :root {
      font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif;
      color-scheme: dark;
      --blue: #1a74f2;
      --red: #f2274c;
      --bg: rgba(5, 10, 22, 0.92);
    }

    @keyframes slideIn {
      from {
        transform: translateY(120%);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes pulse {
      0%,
      100% {
        opacity: 0.55;
      }
      50% {
        opacity: 1;
      }
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      background: transparent;
      color: #f0f3f8;
    }

    .results {
      width: min(70rem, 92vw);
      margin-bottom: 6vh;
      background: var(--bg);
      border-radius: 1.6rem;
      border: 1px solid rgba(26, 116, 242, 0.35);
      box-shadow: 0 30px 90px rgba(0, 0, 0, 0.65);
      padding: 1.8rem 2.2rem;
      display: grid;
      gap: 1.4rem;
      transform: translateY(120%);
      animation: slideIn 0.85s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }

    header {
      display: flex;
      justify-content: space-between;
      text-transform: uppercase;
      letter-spacing: 0.32em;
      font-size: 0.78rem;
      color: rgba(240, 243, 248, 0.7);
    }

    header strong {
      color: var(--blue);
    }

    .matchup {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      align-items: center;
      gap: 1.8rem;
      text-transform: uppercase;
      letter-spacing: 0.22em;
    }

    .candidate {
      display: grid;
      gap: 0.4rem;
    }

    .name {
      font-size: clamp(1.2rem, 3vw, 1.6rem);
      letter-spacing: 0.28em;
    }

    .party {
      font-size: 0.8rem;
      color: rgba(240, 243, 248, 0.65);
    }

    .score {
      font-size: clamp(2.2rem, 4vw, 3rem);
      letter-spacing: 0.35em;
      color: var(--red);
    }

    .score[data-trending='up'] {
      color: var(--blue);
    }

    .trend {
      font-size: 0.75rem;
      letter-spacing: 0.3em;
      color: rgba(240, 243, 248, 0.65);
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .trend::before {
      content: attr(data-icon);
      color: inherit;
      animation: pulse 1.4s ease-in-out infinite;
    }

    footer {
      display: flex;
      justify-content: space-between;
      text-transform: uppercase;
      letter-spacing: 0.28em;
      font-size: 0.78rem;
      color: rgba(240, 243, 248, 0.65);
    }
  </style>
</head>
<body>
  <section class="results">
    <header>
      <span>Election desk update</span>
      <span>Reporting • <strong id="reporting">82%</strong></span>
    </header>

    <div class="matchup">
      <article class="candidate">
        <span class="name" id="leftName">Rivera</span>
        <span class="party" id="leftParty">Progressive Coalition</span>
        <span class="trend" id="leftTrend" data-icon="▲">Holding lead</span>
      </article>
      <div class="score" id="score">52% - 48%</div>
      <article class="candidate">
        <span class="name" id="rightName">Lang</span>
        <span class="party" id="rightParty">Unity Alliance</span>
        <span class="trend" id="rightTrend" data-icon="▼">Closing gap</span>
      </article>
    </div>

    <footer>
      <span id="state">Statewide referendum • District 12</span>
      <span id="time">Updated 10:14 PM ET</span>
    </footer>
  </section>

  <script>
    const params = new URLSearchParams(window.location.search);
    const map = {
      reporting: 'reporting',
      leftName: 'leftName',
      leftParty: 'leftParty',
      leftTrend: 'leftTrend',
      rightName: 'rightName',
      rightParty: 'rightParty',
      rightTrend: 'rightTrend',
      score: 'score',
      state: 'state',
      time: 'time'
    };

    Object.entries(map).forEach(([param, id]) => {
      const value = params.get(param);
      if (value) {
        const el = document.getElementById(id);
        if (id.endsWith('Trend')) {
          el.textContent = value;
        } else {
          el.textContent = value;
        }
      }
    });

    const leftTrendIcon = params.get('leftTrendIcon');
    const rightTrendIcon = params.get('rightTrendIcon');
    const trendUp = params.get('trend') === 'up';

    if (leftTrendIcon) {
      document.getElementById('leftTrend').dataset.icon = leftTrendIcon;
    }

    if (rightTrendIcon) {
      document.getElementById('rightTrend').dataset.icon = rightTrendIcon;
    }

    if (trendUp) {
      document.getElementById('score').dataset.trending = 'up';
    }
  </script>
</body>
</html>
