<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Halo Fireteam Status</title>
  <style>
    :root {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-size: 16px;
      --bg: linear-gradient(135deg, #01070f 0%, #031627 45%, #010c1d 100%);
      --panel: rgba(8, 33, 52, 0.85);
      --accent: #5becff;
      --accent-soft: rgba(91, 236, 255, 0.4);
      --text: #f4fcff;
    }

    body {
      margin: 0;
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--bg);
      color: var(--text);
      overflow: hidden;
    }

    .wrap {
      width: 90vw;
      max-width: 1600px;
      background: var(--panel);
      border: 1px solid rgba(91, 236, 255, 0.2);
      border-radius: 1.6rem;
      padding: 2.2rem 2.6rem 2.8rem;
      box-shadow: 0 32px 80px rgba(0, 8, 24, 0.8);
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 1.8rem;
    }

    h1 {
      margin: 0;
      font-size: 2.6rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
    }

    .subtitle {
      margin: 0;
      font-size: 0.95rem;
      text-transform: uppercase;
      letter-spacing: 0.35em;
      color: rgba(244, 252, 255, 0.65);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.5rem;
    }

    .card {
      position: relative;
      border-radius: 1rem;
      padding: 1.8rem 1.6rem 2.2rem;
      background: rgba(4, 20, 34, 0.85);
      border: 1px solid rgba(91, 236, 255, 0.2);
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 1rem;
      background: linear-gradient(135deg, rgba(91, 236, 255, 0.18), transparent 60%);
      opacity: 0.8;
      pointer-events: none;
    }

    .name {
      font-size: 1.6rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      margin: 0;
    }

    .designation {
      margin: 0.2rem 0 0.8rem;
      font-size: 0.9rem;
      letter-spacing: 0.25em;
      color: rgba(244, 252, 255, 0.6);
      text-transform: uppercase;
    }

    .status {
      margin: 0;
      font-size: 1rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .health {
      margin-top: 1.4rem;
      height: 12px;
      border-radius: 999px;
      background: rgba(91, 236, 255, 0.1);
      overflow: hidden;
    }

    .health span {
      display: block;
      height: 100%;
      background: linear-gradient(90deg, var(--accent), #4ad4ff);
      box-shadow: 0 0 12px var(--accent);
      width: 100%;
    }

    .card[data-status="critical"] .status {
      color: #ff7272;
    }

    .card[data-status="critical"] .health span {
      background: linear-gradient(90deg, #ff7272, #ff4a4a);
      box-shadow: 0 0 12px rgba(255, 74, 74, 0.9);
    }

    .card[data-status="shield"] .status {
      color: #7df6a5;
    }

    .card[data-status="shield"] .health span {
      background: linear-gradient(90deg, #7df6a5, #4bdc81);
      box-shadow: 0 0 12px rgba(77, 220, 129, 0.9);
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1 id="title">UNSC Fireteam Monitor</h1>
      <p class="subtitle" id="subtitle">Real-time vitals uplink</p>
    </header>
    <div class="grid" id="fireteam">
      <article class="card" data-status="shield">
        <h2 class="name">John-117</h2>
        <p class="designation">Spartan-II | Sierra 117</p>
        <p class="status">Shields Stable</p>
        <div class="health"><span style="width: 100%"></span></div>
      </article>
      <article class="card" data-status="shield">
        <h2 class="name">Kelly-087</h2>
        <p class="designation">Recon Specialist</p>
        <p class="status">Shields Stable</p>
        <div class="health"><span style="width: 92%"></span></div>
      </article>
      <article class="card" data-status="critical">
        <h2 class="name">Linda-058</h2>
        <p class="designation">Sniper Support</p>
        <p class="status">Armor Breach</p>
        <div class="health"><span style="width: 45%"></span></div>
      </article>
      <article class="card" data-status="shield">
        <h2 class="name">Fred-104</h2>
        <p class="designation">Team Lead</p>
        <p class="status">Shields Recharging</p>
        <div class="health"><span style="width: 78%"></span></div>
      </article>
    </div>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const title = params.get('title');
    const subtitle = params.get('subtitle');
    const fireteam = params.get('fireteam');

    if (title) document.getElementById('title').textContent = title;
    if (subtitle) document.getElementById('subtitle').textContent = subtitle;

    if (fireteam) {
      const container = document.getElementById('fireteam');
      container.innerHTML = '';
      fireteam.split('|').forEach(entry => {
        const [name, role, status, health = '100', state = 'shield'] = entry.split(';');
        const card = document.createElement('article');
        card.className = 'card';
        card.dataset.status = (state || 'shield').toLowerCase();
        card.innerHTML = `
          <h2 class="name">${name || 'Spartan'}</h2>
          <p class="designation">${role || 'Classified Operator'}</p>
          <p class="status">${status || 'Status Unknown'}</p>
          <div class="health"><span style="width: ${Math.min(Math.max(parseInt(health, 10) || 0, 0), 100)}%"></span></div>
        `;
        container.appendChild(card);
      });
    }
  </script>
</body>
</html>
