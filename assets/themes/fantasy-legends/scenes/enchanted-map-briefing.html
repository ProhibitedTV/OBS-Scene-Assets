<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Enchanted Map Briefing</title>
  <style>
    :root {
      font-family: 'Cinzel', 'Goudy Bookletter 1911', serif;
      color-scheme: dark;
      --parchment: #f9f1dc;
      --ink: #2e1a12;
      --emerald: #80f2c2;
      --shadow: rgba(15, 8, 10, 0.78);
    }

    @keyframes drift {
      from {
        transform: translate3d(0, 0, 0);
      }
      to {
        transform: translate3d(-4%, -6%, 0);
      }
    }

    @keyframes shimmer {
      from {
        transform: translateX(-100%);
      }
      to {
        transform: translateX(100%);
      }
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: radial-gradient(circle at 20% 30%, rgba(249, 241, 220, 0.18), transparent 55%),
        radial-gradient(circle at 80% 65%, rgba(128, 242, 194, 0.2), transparent 50%),
        #0a0508;
      color: var(--parchment);
      overflow: hidden;
    }

    .scene {
      width: min(88vw, 82rem);
      padding: 3rem;
      border-radius: 2.5rem;
      background: rgba(16, 8, 12, 0.85);
      border: 1px solid rgba(249, 241, 220, 0.3);
      position: relative;
      backdrop-filter: blur(16px);
      box-shadow: 0 45px 120px rgba(0, 0, 0, 0.7);
      overflow: hidden;
    }

    .scene::before {
      content: '';
      position: absolute;
      inset: 1.8rem;
      border: 1px solid rgba(249, 241, 220, 0.22);
      border-radius: 2rem;
      pointer-events: none;
    }

    .scene::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, transparent, rgba(249, 241, 220, 0.15), transparent);
      animation: shimmer 12s linear infinite;
      mix-blend-mode: screen;
      pointer-events: none;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      text-transform: uppercase;
      letter-spacing: 0.32em;
      font-size: 0.82rem;
      color: rgba(249, 241, 220, 0.75);
    }

    header strong {
      color: var(--emerald);
    }

    .content {
      margin-top: 2.6rem;
      display: grid;
      gap: 2.4rem;
    }

    .map {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 2rem;
      align-items: stretch;
    }

    .map-visual {
      position: relative;
      border-radius: 1.8rem;
      overflow: hidden;
      background: linear-gradient(180deg, rgba(249, 241, 220, 0.2), rgba(16, 8, 12, 0.85));
      border: 1px solid rgba(249, 241, 220, 0.35);
      box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.4);
    }

    .map-visual::before,
    .map-visual::after {
      content: '';
      position: absolute;
      inset: -10%;
      background: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 600" opacity="0.15"%3E%3Cdefs%3E%3ClinearGradient id="g" x1="0" x2="0" y1="0" y2="1"%3E%3Cstop offset="0" stop-color="%23f9f1dc"/%3E%3Cstop offset="1" stop-color="%2380f2c2"/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d="M50 500 C 150 400 200 450 300 340 C 400 230 450 300 520 180" stroke="url(%23g)" stroke-width="6" fill="none" stroke-linecap="round"/%3E%3Ccircle cx="120" cy="460" r="12" fill="url(%23g)"/%3E%3Ccircle cx="300" cy="340" r="16" fill="url(%23g)"/%3E%3Ccircle cx="520" cy="180" r="10" fill="url(%23g)"/%3E%3C/svg%3E')
        center / cover;
      animation: drift 16s ease-in-out infinite alternate;
      opacity: 0.75;
    }

    .map-visual::after {
      animation-direction: alternate-reverse;
      filter: blur(1px);
      opacity: 0.55;
    }

    h1 {
      margin: 0;
      font-size: clamp(2.4rem, 5vw, 3.6rem);
      letter-spacing: 0.3em;
      text-transform: uppercase;
      text-align: center;
      text-shadow: 0 0 45px rgba(128, 242, 194, 0.35);
    }

    .briefing {
      display: grid;
      gap: 1rem;
      letter-spacing: 0.18em;
      color: rgba(249, 241, 220, 0.75);
      text-transform: uppercase;
      font-size: 0.95rem;
    }

    .objectives {
      display: grid;
      gap: 1.2rem;
    }

    .objective {
      padding: 1.2rem 1.4rem;
      border-radius: 1.1rem;
      background: rgba(12, 6, 8, 0.82);
      border: 1px solid rgba(249, 241, 220, 0.25);
      position: relative;
      overflow: hidden;
    }

    .objective::before {
      content: attr(data-symbol);
      position: absolute;
      inset: 0;
      font-size: 5.5rem;
      letter-spacing: -0.1em;
      color: rgba(249, 241, 220, 0.05);
      display: flex;
      justify-content: flex-end;
      align-items: center;
      padding-right: 1rem;
      pointer-events: none;
    }

    .objective strong {
      display: block;
      letter-spacing: 0.32em;
      margin-bottom: 0.35rem;
      color: var(--emerald);
    }

    footer {
      margin-top: 2.8rem;
      display: flex;
      justify-content: space-between;
      letter-spacing: 0.26em;
      font-size: 0.78rem;
      color: rgba(249, 241, 220, 0.65);
      text-transform: uppercase;
    }

    footer strong {
      color: var(--emerald);
    }

    @media (max-width: 960px) {
      .map {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <section class="scene">
    <header>
      <span>Guild hall archives • <strong id="archive">Vault of Silver Dawn</strong></span>
      <span>Cartographer: <strong id="scribe">Eldric Valen</strong></span>
    </header>

    <div class="content">
      <h1 id="title">Enchanted Map Briefing</h1>
      <div class="map">
        <div class="map-visual" aria-hidden="true"></div>
        <div class="objectives" id="objectives"></div>
      </div>

      <div class="briefing">
        <span>Departure: <strong id="departure">Dawn tide, 6th of Lunasol</strong></span>
        <span>Weather augury: <strong id="weather">Soothing mists with arcane flares</strong></span>
        <span>Arcane wards: <strong id="wards">Two sanctified stones active</strong></span>
      </div>
    </div>

    <footer>
      <span>Messenger hawk dispatched • <strong id="courier">Auryn</strong></span>
      <span>Sanctuary channel • <strong id="channel">Emerald Rune</strong></span>
    </footer>
  </section>

  <script>
    const params = new URLSearchParams(window.location.search);

    const mapEntries = {
      archive: 'archive',
      scribe: 'scribe',
      title: 'title',
      departure: 'departure',
      weather: 'weather',
      wards: 'wards',
      courier: 'courier',
      channel: 'channel'
    };

    Object.entries(mapEntries).forEach(([param, id]) => {
      const value = params.get(param);
      if (value) {
        document.getElementById(id).textContent = value;
      }
    });

    const objectives = JSON.parse(
      params.get('objectives') ||
        JSON.stringify([
          {
            symbol: '✦',
            title: 'Scout Emberfall',
            detail: 'Survey the emberfen caverns and mark hidden runic doors.'
          },
          {
            symbol: '⚔',
            title: 'Negotiate with Wardens',
            detail: 'Secure passage from the obsidian sentinels guarding the bridge.'
          },
          {
            symbol: '✶',
            title: 'Recover Astral Seed',
            detail: 'Retrieve the glowing seed before the eclipse reaches zenith.'
          }
        ])
    );

    const container = document.getElementById('objectives');
    container.textContent = '';
    objectives.forEach((objective) => {
      const item = document.createElement('article');
      item.className = 'objective';
      item.dataset.symbol = objective.symbol;

      const title = document.createElement('strong');
      title.textContent = objective.title;

      const detail = document.createElement('span');
      detail.textContent = objective.detail;

      item.append(title, detail);
      container.append(item);
    });
  </script>
</body>
</html>
